<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>d3fc</title>
    <meta name="description" content="A collection of components that make it easy to build interactive charts with D3.">

    <script src="./scripts.js"></script>

    <link rel="icon" type="image/png" href="./images/favicon-16x16.png" sizes="16x16">
    <link rel="icon" type="image/png" href="./images/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="./images/favicon-96x96.png" sizes="96x96">
    <link rel="stylesheet" href="./styles.css" />
  </head>
  <body>
    <div class="content">

      <nav class="navbar navbar-inverse">
        <div class="container">
            <div class="navbar-header">
              <a href="./"><img class="navbar-logo" alt="d3fc" src="./images/logo.svg" /></a>
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              </div>
            <div class="navbar-collapse collapse">
              <ul class="nav navbar-nav navbar-right">
                <li><a href=".#quick-start">Quick Start</a></li>
                <li class=""><a href="./components">Components</a></li>
                <li class=""><a href="./examples">Examples</a></li>
                <li><a href="https://github.com/ScottLogic/d3fc">GitHub</a></li>
              </ul>
            </div>
        </div>
      </nav>

      
<div class="top-chart container">
  <div class="row">
    <div class="col-md-12">
      <svg id="top-chart" style="width: 100%; height: 250px; background: white"></svg>
    </div>

  </div>
</div>

<div class="jumbotron text-center" id="jumbo1">
  <img alt="d3fc" src="./images/logo.svg" />
  <p>A collection of components that make it easy to build interactive charts with D3.</p>
  <a class="jumbotron-btn" href="https://github.com/ScottLogic/d3fc">View on GitHub</a>
</div>

<script type="text/javascript">
(function() {
  // create some test data
var generator = fc.data.random.financial().filter(null);
var data = generator(110);

function renderChart() {
  // add a new datapoint and remove an old one
  var datum = generator(1)[0];
  data.push(datum);
  data.shift();

  // Offset the range to include the full bar for the latest value
  var dateRange = fc.util.extent(data, 'date');
  dateRange[1] = d3.time.day.offset(dateRange[1], 1);

  // create a chart
  var chart = fc.chart.linearTimeSeries()
      .xDomain(dateRange)
      .xTicks(5)
      .yNice()
      .yTicks(5);

  // compute the bollinger bands and update the y-axis domain
  var bollingerAlgorithm = fc.indicator.algorithm.bollingerBands();
  bollingerAlgorithm(data);

  chart.yDomain(fc.util.extent(data, [
     function(d) { return d.bollingerBands.upper; },
     function(d) { return d.bollingerBands.lower; }
  ]));

  // Create the gridlines and series
  var gridlines = fc.annotation.gridline();
  var candlestick = fc.series.candlestick();
  var bollingerBands = fc.indicator.renderer.bollingerBands();

  // add them to the chart via a multi-series
  var multi = fc.series.multi()
      .series([gridlines, bollingerBands, candlestick]);
  chart.plotArea(multi);

  d3.select('svg')
      .datum(data)
      .call(chart);
}
renderChart();

//setInterval(renderChart, 200);

addEventListener('resize', renderChart);

  window.onresize = renderChart;
}());
</script>

<div class="previews container">
  <div class="row">
    
      
        
          <div class="col-xs-4">
            
            <a href="components/../components/chart/sparkline.html">
              <div id="chart-sparkline-js" class="chart-small">
                <p style="padding: 10px">The FTSE 100 rose 53.96 points, or 0.8%, to 6,574.94 <span class='sparkline'></span>.
Elsewhere in Europe, Germany's Dax index was up 1.1% <span class='sparkline'></span>, while in France, the Cac 40 index climbed 1% <span class='sparkline'></span>.
On the currency markets, the euro fell 0.3% against the dollar to $1.1111 <span class='sparkline'></span>. The pound rose 0.2% against the euro to â‚¬1.4138 <span class='sparkline'></span> and was flat against the dollar at $1.5711 <span class='sparkline'></span>.</p>

                <div class="caption">
                  <h4>Sparkline</h4>
                </div>
              </div>
            </a>
          </div>
          <script type="text/javascript">
          (function() {
              var f = createFixture('#chart-sparkline-js', 800, null, null, function() { return true; });
              var container = f.container, data = f.data
                xScale = f.xScale, yScale = f.yScale,
                height = f.dimensions.height, width = f.dimensions.width;
              d3.selectAll('.sparkline')
    .each(function() {
        var sparkline = d3.select(this);

        // typically at this point you would fetch or look-up the
        // data for the specific sparkline - here we use dummy data instead

        // var stock = sparkline.attr('data-ticker');
        var data = fc.data.random.financial()(50);

        var chart = fc.chart.sparkline()
            .xDomain(fc.util.extent(data, 'date'))
            .yDomain(fc.util.extent(data, 'low'))
            .radius(2)
            .yValue(function(d) { return d.low; });

        sparkline
            .append('svg')
            .style({
                height: '15px',
                width: '80px',
                display: 'inline'
            })
            .datum(data)
            .call(chart);
    });

          }());
          </script>
        
          <div class="col-xs-4">
            
            <a href="components/../components/indicator/bollingerBands.html">
              <div id="indicator-algorithm-bollingerBands-js" class="chart-small">
                
                <div class="caption">
                  <h4>Bollinger Bands</h4>
                </div>
              </div>
            </a>
          </div>
          <script type="text/javascript">
          (function() {
              var f = createFixture('#indicator-algorithm-bollingerBands-js', 800, null, null, function() { return true; });
              var container = f.container, data = f.data
                xScale = f.xScale, yScale = f.yScale,
                height = f.dimensions.height, width = f.dimensions.width;
              // Create the point series
var point = fc.series.point()
    .xScale(xScale)
    .yScale(yScale);

container.append('g')
    .datum(data)
    .call(point);

// Create and apply the bollinger algorithm
var bollingerAlgorithm = fc.indicator.algorithm.bollingerBands();
bollingerAlgorithm(data);

// Create the renderer
var bollinger = fc.indicator.renderer.bollingerBands()
    .xScale(xScale)
    .yScale(yScale);

// Add it to the container
container.append('g')
    .datum(data)
    .call(bollinger);

          }());
          </script>
        
          <div class="col-xs-4">
            
            <a href="components/../components/indicator/macd.html">
              <div id="indicator-algorithm-macd-js" class="chart-small">
                
                <div class="caption">
                  <h4>MACD</h4>
                </div>
              </div>
            </a>
          </div>
          <script type="text/javascript">
          (function() {
              var f = createFixture('#indicator-algorithm-macd-js', 800, null, null, function() { return true; });
              var container = f.container, data = f.data
                xScale = f.xScale, yScale = f.yScale,
                height = f.dimensions.height, width = f.dimensions.width;
              // Create and apply the macd algorithm
var macdAlgorithm = fc.indicator.algorithm.macd()
    .fastPeriod(4)
    .slowPeriod(10)
    .signalPeriod(5);
macdAlgorithm(data);

// the MACD is rendered on its own scale, centered around zero
var maxExtent = d3.max(data, function(d) { return Math.abs(d.macd.macd); });
var yScale = d3.scale.linear()
    .domain([-maxExtent, maxExtent])
    .range([height, 0]);

// Create the renderer
var macd = fc.indicator.renderer.macd()
    .xScale(xScale)
    .yScale(yScale);

// Add it to the container
container.append('g')
    .datum(data)
    .call(macd);

          }());
          </script>
        
          <div class="col-xs-4">
            
            <a href="components/../components/series/cycle.html">
              <div id="series-cycle-js" class="chart-small">
                
                <div class="caption">
                  <h4>Cycle Series</h4>
                </div>
              </div>
            </a>
          </div>
          <script type="text/javascript">
          (function() {
              var f = createFixture('#series-cycle-js', 800, null, null, function() { return true; });
              var container = f.container, data = f.data
                xScale = f.xScale, yScale = f.yScale,
                height = f.dimensions.height, width = f.dimensions.width;
              var data = [{"date":"20130603","sales":41},{"date":"20130604","sales":70},{"date":"20130605","sales":84},{"date":"20130606","sales":63},{"date":"20130607","sales":63},{"date":"20130608","sales":32},{"date":"20130609","sales":34},{"date":"20130610","sales":46},{"date":"20130611","sales":68},{"date":"20130612","sales":84},{"date":"20130613","sales":61},{"date":"20130614","sales":61},{"date":"20130615","sales":34},{"date":"20130616","sales":32},{"date":"20130617","sales":48},{"date":"20130618","sales":66},{"date":"20130619","sales":86},{"date":"20130620","sales":65},{"date":"20130621","sales":65},{"date":"20130622","sales":37},{"date":"20130623","sales":35},{"date":"20130624","sales":49},{"date":"20130625","sales":65},{"date":"20130626","sales":89},{"date":"20130627","sales":60},{"date":"20130628","sales":63},{"date":"20130629","sales":39},{"date":"20130630","sales":32},{"date":"20130701","sales":54},{"date":"20130702","sales":64},{"date":"20130703","sales":92},{"date":"20130704","sales":66},{"date":"20130705","sales":59},{"date":"20130706","sales":33},{"date":"20130707","sales":34},{"date":"20130708","sales":56},{"date":"20130709","sales":63},{"date":"20130710","sales":95},{"date":"20130711","sales":60},{"date":"20130712","sales":66},{"date":"20130713","sales":34},{"date":"20130714","sales":37},{"date":"20130715","sales":62},{"date":"20130716","sales":58},{"date":"20130717","sales":104},{"date":"20130718","sales":65},{"date":"20130719","sales":65},{"date":"20130720","sales":37},{"date":"20130721","sales":33},{"date":"20130722","sales":70},{"date":"20130723","sales":57},{"date":"20130724","sales":112},{"date":"20130725","sales":64},{"date":"20130726","sales":63},{"date":"20130727","sales":34},{"date":"20130728","sales":34}];

var parseDate = d3.time.format('%Y%m%d').parse;
data.forEach(function(d) {
    d.date = parseDate(d.date);
});

var dayScale = d3.scale.ordinal()
    .domain([0, 1, 2, 3, 4, 5, 6])
    .rangePoints([0, width], 1.0);

var salesScale = d3.scale.linear()
    .domain(fc.util.extent(data, 'sales'))
    .range([height, 0])
    .nice();

var subScale = d3.scale.linear()
    .domain(fc.util.extent(data, 'date'));

var subAxis = fc.series.axis()
    .tickSize(0)
    .ticks(0)
    .baseline(function(d) {
        return d3.mean(d, function(d) { return d.sales; });
    });

var lineSeries = fc.series.line()
    .xValue(function(d) { return d.date; })
    .yValue(function(d) { return d.sales; });

var multiSeries = fc.series.multi()
        .series([subAxis, lineSeries]);

var cycle = fc.series.cycle()
    .barWidth(fc.util.fractionalBarWidth(0.9))
    .yScale(salesScale)
    .xScale(dayScale)
    .xValue(function(d) { return d.date.getDay(); })
    .subScale(subScale)
    .subSeries(multiSeries);

container.datum(data)
    .call(cycle);

          }());
          </script>
        
          <div class="col-xs-4">
            
            <a href="components/../components/series/multi.html">
              <div id="series-multi-js" class="chart-small">
                
                <div class="caption">
                  <h4>Multi Series</h4>
                </div>
              </div>
            </a>
          </div>
          <script type="text/javascript">
          (function() {
              var f = createFixture('#series-multi-js', 800, null, null, function() { return true; });
              var container = f.container, data = f.data
                xScale = f.xScale, yScale = f.yScale,
                height = f.dimensions.height, width = f.dimensions.width;
              var candlestick = fc.series.candlestick();
var gridlines = fc.annotation.gridline();

// Create a a bollinger series
var bollingerAlgorithm = fc.indicator.algorithm.bollingerBands();
bollingerAlgorithm(data);
var bollinger = fc.indicator.renderer.bollingerBands();

var multi = fc.series.multi()
    .series([gridlines, bollinger, candlestick])
    .xScale(xScale)
    .yScale(yScale);

container.append('g')
    .datum(data)
    .call(multi);

          }());
          </script>
        
          <div class="col-xs-4">
            
            <a href="components/../components/series/stacked-bar.html">
              <div id="series-stackedBar-js" class="chart-small">
                
                <div class="caption">
                  <h4>Stacked Bar Series</h4>
                </div>
              </div>
            </a>
          </div>
          <script type="text/javascript">
          (function() {
              var f = createFixture('#series-stackedBar-js', 800, null, null, function() { return true; });
              var container = f.container, data = f.data
                xScale = f.xScale, yScale = f.yScale,
                height = f.dimensions.height, width = f.dimensions.width;
              var data = [
 {"State":"AL","Under 5 Years":"310","5 to 13 Years":"552","14 to 17 Years":"259","18 to 24 Years":"450","25 to 44 Years":"1215","45 to 64 Years":"641"},
 {"State":"AK","Under 5 Years":"52","5 to 13 Years":"85","14 to 17 Years":"42","18 to 24 Years":"74","25 to 44 Years":"183","45 to 64 Years":"50"},
 {"State":"AZ","Under 5 Years":"515","5 to 13 Years":"828","14 to 17 Years":"362","18 to 24 Years":"601","25 to 44 Years":"1804","45 to 64 Years":"1523"},
 {"State":"AR","Under 5 Years":"202","5 to 13 Years":"343","14 to 17 Years":"157","18 to 24 Years":"264","25 to 44 Years":"754","45 to 64 Years":"727"},
 {"State":"CO","Under 5 Years":"358","5 to 13 Years":"587","14 to 17 Years":"261","18 to 24 Years":"466","25 to 44 Years":"1464","45 to 64 Years":"1290"},
 {"State":"CT","Under 5 Years":"211","5 to 13 Years":"403","14 to 17 Years":"196","18 to 24 Years":"325","25 to 44 Years":"916","45 to 64 Years":"968"},
 {"State":"DE","Under 5 Years":"59","5 to 13 Years":"99","14 to 17 Years":"47","18 to 24 Years":"84","25 to 44 Years":"230","45 to 64 Years":"230"}
];

// Transform the data into a number of distinct series, one for each category of data
var series = Object.keys(data[0])
    .filter(function(key) {
        return key !== 'State';
    })
    .map(function(key) {
        return {
            name: key,
            data: data.map(function(d) {
              return {
                state: d.State,
                value: parseInt(d[key])
              };
            })
        };
    });

var stackLayout = d3.layout.stack()
    .offset('zero')
    .x(function(d) { return d.state; })
    .y(function(d) { return d.value; });

var stackedData = stackLayout(series.map(function(d) { return d.data; }));

var xCategories = data.map(function(d) { return d.State; });

// create scales
var x = d3.scale.ordinal()
    .domain(xCategories)
    .rangePoints([0, width], 1);

var color = d3.scale.category10();

var y = d3.scale.linear()
  .domain([0, 6000])
  .range([height, 0]);

var stack = fc.series.stacked.bar()
  .xScale(x)
  .yScale(y)
  .xValue(function(d) { return d.state; })
  .decorate(function(sel) {
      sel.each(function(d, i) {
          d3.select(this)
            .selectAll('path')
            .style({'fill': color(i), 'stroke' : color(i)});
      });
  });

container.append('g')
    .datum(stackedData)
    .call(stack);

          }());
          </script>
        
      
    
  </div>
</div>

<div id="quick-start" class="quick-start">
  <div class="container">
    <div class="row">
      <div class="col-md-12">
        <h1 class="text-center">QUICK START</h1>
      </div>
    </div>

    <div class="row">
      <div class="col-sm-3 ">
        <h3>Install</h3>
        <p>A complete set of instructions for obtaining d3fc and its dependencies are available on the <a href="https://github.com/ScottLogic/d3fc">GitHub project website</a>.</p>
      </div>
      <div class="col-sm-3 ">
        <h3>Learn</h3>
        <p>Browse the <a href="components">d3fc components</a> to determine which you need in order to build your chart. You can mix and match with any D3 code you may require to produce your chart.</p>
      </div>
      <div class="col-sm-3 ">
        <h3>Customise</h3>
        <p>The components are primarily customised via CSS, allowing you to change colors, stroke, fill and layout. However, more structural customisation is also possible via JavaScript.</p>
      </div>
      <div class="col-sm-3 ">
        <h3>Contribute</h3>
        <p>Spotted a bug? Have an idea for a feature? Please <a href="https://github.com/ScottLogic/d3fc">pop over to GitHub and contribute</a>. If you want to contribute a new component, please read
        our <a href="https://github.com/ScottLogic/d3fc/wiki">wiki page which describes the design goals</a>.</p>
      </div>
    </div>
  </div>
</div>

<div class="awesome">
  <div class="container">
    <div class="row">
      <div class="col-sm-5">
        <h1>D3</h1>
        <p><a href="http://d3js.org/">D3</a> is an ideal tool for creating charts, giving you complete control over how your data is rendered. However, constructing charts with D3 can be hard work!</p>
      </div>
      <div class="col-sm-2 text-center symbol">
        <h1>+</h1>
      </div>
      <div class="col-sm-5">
        <h1>d3fc</h1>
        <p>d3fc provides a set of building blocks, that follow the <a href="http://bost.ocks.org/mike/chart/">D3 component pattern</a>, allowing you to assemble charts quickly and easily, without taking away the underlying power of D3. </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-offset-1 col-sm-2 text-center symbol">
        <h1>=</h1>
      </div>
      <div class="col-sm-8">
        <h1>Awesome!</h1>
        <p>Building interactive or static charts with d3fc is a breeze - components can be assembled, configured and styled with CSS to produce a whole range of different charts.</p>
      </div>
    </div>
  </div>
</div>


    </div>
    <footer>
      <div class="container">
        <p class="muted credit text-center">Project supported by <a href="http://www.scottlogic.com">Scott Logic</a></p>
      </div>
    </footer>

    <script src="//localhost:35729/livereload.js"></script>
  </body>
</html>
