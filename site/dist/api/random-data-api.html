<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Random Data</title>
    <meta name="description" content="A collection of components that make it easy to build interactive charts with D3.">

    <script src="http://localhost:8000/scripts.js"></script>

    <link rel="icon" type="image/png" href="http://localhost:8000/images/favicon-16x16.png" sizes="16x16">
    <link rel="icon" type="image/png" href="http://localhost:8000/images/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="http://localhost:8000/images/favicon-96x96.png" sizes="96x96">
    <link rel="stylesheet" href="http://localhost:8000/styles.css" />
    <link rel="canonical" href="https://d3fc.io/api/random-data-api.html" />
  </head>
  <body>
    <div class="content">

      <nav class="navbar navbar-inverse">
        <div class="container">
            <div class="navbar-header">
              <a href="http://localhost:8000/"><img class="navbar-logo" alt="d3fc" src="http://localhost:8000/images/logo.svg" /></a>
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              </div>
            <div class="navbar-collapse collapse">
              <ul class="nav navbar-nav navbar-right">
                <li class=""><a href="http://localhost:8000/components/introduction/getting-started.html">Documentation</a></li>
                <li class=""><a href="http://localhost:8000/components/chart/cartesian.html">Components</a></li>
                <li class=""><a href="http://localhost:8000/components/series/candlestick.html">Financial</a></li>
                <li class="active"><a href="http://localhost:8000/api/annotation-api.html">API</a></li>
                <li class=""><a href="http://localhost:8000/examples">Examples</a></li>
                <li><a href="git+https://github.com/d3fc/d3fc.git">GitHub</a></li>
              </ul>
            </div>
        </div>
      </nav>

      

<div class="container project">
  <div class="col-sm-9">
    <!-- LEVEL 1 -->
      <div class="section">
        <h1>
d3fc-random-data
        </h1>
<p>Components for generating random data series based on stochastic processes.</p>
        <!-- LEVEL 2 -->
          <div class="block">
            <h2 class="header">
API Reference
            </h2>
            <!-- LEVEL 3 -->
              <div class="block">
                <h3 class="header">
                  <a id="financial" href="#financial" class="header-link">
                    <svg viewBox="0 0 16 16">
                      <path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
                    </svg>
                  </a>
Financial
                </h3>
<p>The random financial data generator component generates open-high-low-close-volume financial data.
Prices are calculated using the <a href="#geometric-brownian-motion">geometric Brownian motion generator</a>.</p>
<pre><code class="lang-javascript">
<span class="hljs-keyword">import</span> { randomFinancial, randomSkipWeekends } <span class="hljs-keyword">from</span> <span class="hljs-string">'d3fc-random-data'</span>;

<span class="hljs-keyword">const</span> generator = randomFinancial()
    .startDate(<span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(<span class="hljs-number">2016</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>))
    .startPrice(<span class="hljs-number">100</span>)
    .filter(randomSkipWeekends)

generator(<span class="hljs-number">4</span>)

<span class="hljs-comment">// [</span>
<span class="hljs-comment">//   {</span>
<span class="hljs-comment">//     date: 2016-01-01T00:00:00.000Z,</span>
<span class="hljs-comment">//     open: 100,</span>
<span class="hljs-comment">//     high: 100.37497903455065,</span>
<span class="hljs-comment">//     low: 99.9344064016257,</span>
<span class="hljs-comment">//     close: 100.13532170178823,</span>
<span class="hljs-comment">//     volume: 974</span>
<span class="hljs-comment">//   },</span>
<span class="hljs-comment">//   {</span>
<span class="hljs-comment">//     date: 2016-01-04T00:00:00.000Z,</span>
<span class="hljs-comment">//     open: 100.2078374019404,</span>
<span class="hljs-comment">//     high: 100.55251268471399,</span>
<span class="hljs-comment">//     low: 99.7272105851512,</span>
<span class="hljs-comment">//     close: 99.7272105851512,</span>
<span class="hljs-comment">//     volume: 992</span>
<span class="hljs-comment">//   },</span>
<span class="hljs-comment">//   {</span>
<span class="hljs-comment">//     date: 2016-01-05T00:00:00.000Z,</span>
<span class="hljs-comment">//     open: 99.7272105851512,</span>
<span class="hljs-comment">//     high: 101.06403178230532,</span>
<span class="hljs-comment">//     low: 99.7272105851512,</span>
<span class="hljs-comment">//     close: 101.00200313600685,</span>
<span class="hljs-comment">//     volume: 835</span>
<span class="hljs-comment">//   },</span>
<span class="hljs-comment">//   {</span>
<span class="hljs-comment">//     date: 2016-01-06T00:00:00.000Z,</span>
<span class="hljs-comment">//     open: 101.00200313600685,</span>
<span class="hljs-comment">//     high: 101.41129520567128,</span>
<span class="hljs-comment">//     low: 100.50311227829566,</span>
<span class="hljs-comment">//     close: 100.5536971451326,</span>
<span class="hljs-comment">//     volume: 1021</span>
<span class="hljs-comment">//   }</span>
<span class="hljs-comment">// ]</span>
</code></pre>
<p><a name="rf" href="#rf">#</a> fc.<strong>randomFinancial</strong>()</p>
<p>Constructs a new financial data generator.</p>
<p><a name="rf_" href="#rf_">#</a> <em>randomFinancial</em>(<em>points</em>)</p>
<p>Run the generator. Returns an array with <em>points</em> number of objects with <code>date</code>, <code>open</code>, <code>high</code>, <code>low</code>, <code>close</code> and <code>volume</code> properties.</p>
<p><a name="rf_startDate" href="#rf_startDate">#</a> <em>randomFinancial</em>.<strong>startDate</strong>([<em>value</em>])</p>
<p>If <em>value</em> is specified, sets the start date to the specified <code>Date</code> object and returns this generator instance.
If <em>value</em> is not specified, returns the current start date, which defaults to the value of <code>new Date()</code> when the generator was constructed.</p>
<p><a name="rf_startPrice" href="#rf_startPrice">#</a> <em>randomFinancial</em>.<strong>startPrice</strong>([<em>value</em>])</p>
<p>If <em>value</em> is specified, sets the start price to the specified number and returns this generator instance.
If <em>value</em> is not specified, returns the current start price, which defaults to <code>100</code>.</p>
<p><a name="rf_interval" href="#rf_interval">#</a> <em>randomFinancial</em>.<strong>interval</strong>([<em>value</em>])</p>
<p>If <em>value</em> is specified, sets the time increment to the specified <a href="https://github.com/d3/d3-time#intervals">d3 time interval</a> and returns this generator instance.
If <em>value</em> is not specified, returns the current interval, which defaults to <code>d3_time.timeDay</code>.</p>
<p><a name="rf_intervalStep" href="#rf_intervalStep">#</a> <em>randomFinancial</em>.<strong>intervalStep</strong>([<em>value</em>])</p>
<p>If <em>value</em> is specified, sets the number of intervals that returned points should have dates offset by to the specified integer number and returns this generator instance.
If <em>value</em> is not specified, returns the current number of intervals, which defaults to <code>1</code>.
Internally, this value is supplied to the <em>step</em> argument of an interval&#39;s <a href="https://github.com/d3/d3-time#interval_offset">offset function</a>.</p>
<p><a name="rf_steps" href="#rf_steps">#</a> <em>randomFinancial</em>.<strong>steps</strong>([<em>value</em>])</p>
<p>Get/Set the number of <a href="#gbm_steps">steps used by the geometric Brownian motion simulation</a> per <em>intervalStep</em> number of intervals.
A higher number gives a slower, but higher resolution simulation.</p>
<p><a name="rf_mu" href="#rf_mu">#</a> <em>randomFinancial</em>.<strong>mu</strong>([<em>value</em>])</p>
<p>Get/Set the <a href="#gbm_mu">drift used by the geometric Brownian motion simulation</a>.  </p>
<p><a name="rf_sigma" href="#rf_sigma">#</a> <em>randomFinancial</em>.<strong>sigma</strong>([<em>value</em>])</p>
<p>Get/Set the <a href="#gbm_sigma">volatility used by the geometric Brownian motion simulation</a>.  </p>
<p><a name="rf_unitInterval" href="#rf_unitInterval">#</a> <em>randomFinancial</em>.<strong>unitInterval</strong>([<em>value</em>])</p>
<p>If <em>value</em> is specified, sets the time interval used for units of <em>mu</em> and <em>sigma</em> to the specified <a href="https://github.com/d3/d3-time#intervals">d3 time interval</a> and returns this generator instance.
If <em>value</em> is not specified, returns the current interval, which defaults to <code>d3_time.timeYear</code>.</p>
<p><a name="rf_unitIntervalStep" href="#rf_unitIntervalStep">#</a> <em>randomFinancial</em>.<strong>unitIntervalStep</strong>([<em>value</em>])</p>
<p>If <em>value</em> is specified, sets the integer number of intervals used for units of <em>mu</em> and <em>sigma</em> to the specified number and returns this generator instance.
If <em>value</em> is not specified, returns the current interval, which defaults to <code>1</code>.
For example, to have trading year units of <em>mu</em> and <em>sigma</em> rather than calendar year, set <em>unitIntervalStep</em> to <code>252</code> and <em>unitInterval</em> to <code>d3_time.timeDay</code>.</p>
<p><a name="rf_volume" href="#rf_volume">#</a> <em>randomFinancial</em>.<strong>volume</strong>([<em>value</em>])</p>
<p>If <em>value</em> is specified, sets the function used return a point&#39;s volume to the specified function and returns this generator instance.
Can be specified as either a function mapping an output object to a number, or a number.
If <em>value</em> is not specified, returns the current volume, which defaults to a function sampling integers from a normal distribution centred around <code>1000</code>.</p>
<p><a name="rf_filter" href="#rf_filter">#</a> <em>randomFinancial</em>.<strong>filter</strong>([<em>value</em>])</p>
<p>If <em>value</em> is specified, sets the filter function to the specified function and returns this generator instance.
Only output objects <code>d</code> for which <code>filter(d)</code> returns <code>true</code> will be included in the output array.
If <em>value</em> is not specified, returns the current filter function, which defaults to <code>(d) =&gt; true</code>.
To skip weekends, supply the pre-defined filter <code>fc_random_data.skipWeekends</code>.</p>
              </div>
              <div class="block">
                <h3 class="header">
                  <a id="financial-stream" href="#financial-stream" class="header-link">
                    <svg viewBox="0 0 16 16">
                      <path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
                    </svg>
                  </a>
Financial Stream
                </h3>
<p>Use the streaming interface to have successive calls to generate data keep track of the latest date and price.</p>
<pre><code class="lang-javascript">
<span class="hljs-keyword">import</span> { randomFinancial } <span class="hljs-keyword">from</span> <span class="hljs-string">'d3fc-random-data'</span>;

<span class="hljs-keyword">const</span> generator = financial()
    .startDate(<span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(<span class="hljs-number">2016</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>))
    .startPrice(<span class="hljs-number">100</span>)

<span class="hljs-keyword">const</span> stream = generator.stream();
<span class="hljs-keyword">const</span> data = [];

data.push(stream.next());
<span class="hljs-comment">// data.length -&gt; 1</span>

data = data.concat(stream.take(<span class="hljs-number">2</span>));
<span class="hljs-comment">// data.length -&gt; 3</span>

data = data.concat(stream.until(<span class="hljs-function"><span class="hljs-params">d</span> =&gt;</span> d.date &gt; <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(<span class="hljs-number">2016</span>, <span class="hljs-number">0</span>, <span class="hljs-number">10</span>)));
<span class="hljs-comment">// data.length -&gt; 10</span>
</code></pre>
<p><a name="rf_stream" href="#rf_stream">#</a> <em>randomFinancial</em>.<strong>stream</strong>()</p>
<p>Constructs a new stream from an existing financial data generator instance.</p>
<p><a name="stream_next" href="#stream_next">#</a> <em>stream</em>.<strong>next</strong>()</p>
<p>Returns a single output object with date incremented from the latest returned output object&#39;s date according to the generator instance&#39;s <em>interval</em> and <em>intervalStep</em> properties, or with <em>startDate</em> if this is the first call.</p>
<p><a name="stream_take" href="#stream_take">#</a> <em>stream</em>.<strong>take</strong>(number)</p>
<p>Returns an array of length <em>number</em> of output objects, each object with date incremented according to the generator instance&#39;s <em>interval</em> and <em>intervalStep</em> properties, starting with the latest returned output objects&#39;s incremented date, or with <em>startDate</em> if this is the first call.</p>
<p><a name="stream_until" href="#stream_until">#</a> <em>stream</em>.<strong>until</strong>(comparison)</p>
<p>Returns the array of objects constructed by repeatedly generating a single output object with date incremented according to the generator instance&#39;s <em>interval</em> and <em>intervalStep</em> properties until a generated object satisfies the condition of the supplied comparison function, appending to the output array only if the condition is not satisfied.</p>
              </div>
              <div class="block">
                <h3 class="header">
                  <a id="geometric-brownian-motion" href="#geometric-brownian-motion" class="header-link">
                    <svg viewBox="0 0 16 16">
                      <path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
                    </svg>
                  </a>
Geometric Brownian Motion
                </h3>
<p>The geometric Brownian motion component creates a series of values based on the <a href="https://en.wikipedia.org/wiki/Geometric_Brownian_motion">Geometric Brownian Motion</a> stochastic process.</p>
<pre><code class="lang-javascript">
<span class="hljs-keyword">import</span> { randomGeometricBrownianMotion } <span class="hljs-keyword">from</span> <span class="hljs-string">'d3fc-random-data'</span>;

<span class="hljs-keyword">const</span> generator = randomGeometricBrownianMotion()
    .steps(<span class="hljs-number">10</span>);

generator(<span class="hljs-number">10</span>);

<span class="hljs-comment">// [</span>
<span class="hljs-comment">//   10,</span>
<span class="hljs-comment">//   10.272847363463436,</span>
<span class="hljs-comment">//   10.423881104466574,</span>
<span class="hljs-comment">//   10.629316182766384,</span>
<span class="hljs-comment">//   10.7209321393133,</span>
<span class="hljs-comment">//   10.773722182206432,</span>
<span class="hljs-comment">//   10.229636144307582,</span>
<span class="hljs-comment">//   10.225282323984114,</span>
<span class="hljs-comment">//   10.488138829847468,</span>
<span class="hljs-comment">//   10.428118194568341,</span>
<span class="hljs-comment">//   10.848822656937935</span>
<span class="hljs-comment">// ]</span>
</code></pre>
<p><a name="rgbm" href="#rgbm">#</a> fc.<strong>randomGeometricBrownianMotion</strong>()</p>
<p>Constructs a new geometric Brownian motion generator.</p>
<p><a name="rgbm_" href="#rgbm_">#</a> <em>randomGeometricBrownianMotion</em>(<em>start</em>)</p>
<p>Returns an array of price values following a geometric Brownian motion with the set drift and volatility, given a starting price of <em>start</em>.
The first array value is the supplied start price, followed by <em>steps</em> number of values corresponding to the simulated price value at the end of each step.</p>
<p><a name="rgbm_mu" href="#rgbm_mu">#</a> <em>randomGeometricBrownianMotion</em>.<strong>mu</strong>([<em>value</em>])</p>
<p>If <em>value</em> is specified, sets the percentage drift per period to the specified number and returns this generator instance.
If <em>value</em> is not specified, returns the current drift, which defaults to <code>0.1</code>.</p>
<p><a name="rgbm_sigma" href="#rgbm_sigma">#</a> <em>randomGeometricBrownianMotion</em>.<strong>sigma</strong>([<em>value</em>])</p>
<p>If <em>value</em> is specified, sets the percentage volatility per period to the specified number and returns this generator instance.
If <em>value</em> is not specified, returns the current volatility, which defaults to <code>0.1</code>.</p>
<p><a name="rgbm_period" href="#rgbm_period">#</a> <em>randomGeometricBrownianMotion</em>.<strong>period</strong>([<em>value</em>])</p>
<p>If <em>value</em> is specified, sets the interval length to the specified number of periods and returns this generator instance.
If <em>value</em> is not specified, returns the current interval length, which defaults to <code>1</code>.</p>
<p><a name="rgbm_steps" href="#rgbm_steps"></a> <em>randomGeometricBrownianMotion</em>.<strong>steps</strong>([<em>value</em>])</p>
<p>If <em>value</em> is specified, sets the number of discrete steps to divide the interval into to the specified number and returns this generator instance.
If <em>value</em> is not specified, returns the current number of steps, which defaults to <code>20</code>.</p>
<p><a name="rgbm_randomNormal" href="#rgbm_randomNormal"></a> <em>randomGeometricBrownianMotion</em>.<strong>randomNormal</strong>([<em>value</em>])</p>
<p>If <em>value</em> is specified, sets the function used for generating random numbers with a normal (Gaussian) distribution to the specified function and returns this generator instance.
If <em>value</em> is not specified, returns the current random normal function, which defaults to <a href="https://github.com/d3/d3-random#randomNormal"><code>d3_random.randomNormal</code></a>.</p>
              </div>
            <!-- /LEVEL 3 -->
          </div>
        <!-- /LEVEL 2 -->
      </div>
    <!-- /LEVEL 1 -->
  </div>

  <nav class="col-sm-3 hidden-xs">
    <ul class="nav nav-stacked fixed nav-sidebar">
        <li>
            <a href="/api/annotation-api.html">Annotation</a>
        </li>
        <li>
            <a href="/api/axis-api.html">Axis</a>
        </li>
        <li>
            <a href="/api/data-join-api.html">Data Join</a>
        </li>
        <li>
            <a href="/api/discontinuous-scale-api.html">Discontinuous Scale</a>
        </li>
        <li>
            <a href="/api/element-api.html">Element</a>
        </li>
        <li>
            <a href="/api/extent-api.html">Extent</a>
        </li>
        <li>
            <a href="/api/financial-feed-api.html">Financial Feed</a>
        </li>
        <li>
            <a href="/api/label-layout-api.html">Label Layout</a>
        </li>
        <li>
            <a href="/api/pointer-api.html">Pointer</a>
        </li>
        <li>
            <span class="active">Random Data</span>
            <ul class="nav nav-stacked">
                <li>
                  <a href="#financial">
                    Financial
                  </a>
                </li>
                <li>
                  <a href="#financial-stream">
                    Financial Stream
                  </a>
                </li>
                <li>
                  <a href="#geometric-brownian-motion">
                    Geometric Brownian Motion
                  </a>
                </li>
            </ul>
        </li>
        <li>
            <a href="/api/rebind-api.html">Rebind</a>
        </li>
        <li>
            <a href="/api/sample-api.html">Sample</a>
        </li>
        <li>
            <a href="/api/scripts-api.html">Scripts</a>
        </li>
        <li>
            <a href="/api/series-api.html">Series</a>
        </li>
        <li>
            <a href="/api/shape-api.html">Shape</a>
        </li>
        <li>
            <a href="/api/technical-indicator-api.html">Technical Indicator</a>
        </li>
    </ul>
  </nav>
</div>


    </div>
    <footer>
      <div class="container">
        <p class="muted credit text-center">Project supported by <a href="http://www.scottlogic.com">Scott Logic</a>.</p>
        <p class="muted credit text-center">Browser testing provided by <a class="browserstack" href="https://browserstack.com">BrowserStack</a>.</p>
      </div>
    </footer>

      <script src="//localhost:35729/livereload.js"></script>
  </body>
</html>
