<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Scatterplot</title>
    <meta name="description" content="A collection of components that make it easy to build interactive charts with D3.">

    <script src="http://localhost:8000/scripts.js"></script>

    <link rel="icon" type="image/png" href="http://localhost:8000/images/favicon-16x16.png" sizes="16x16">
    <link rel="icon" type="image/png" href="http://localhost:8000/images/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="http://localhost:8000/images/favicon-96x96.png" sizes="96x96">
    <link rel="stylesheet" href="http://localhost:8000/styles.css" />
    <link rel="canonical" href="https://d3fc.io/examples/scatter/index.html" />
  </head>
  <body>
    <div class="content">

      <nav class="navbar navbar-inverse">
        <div class="container">
            <div class="navbar-header">
              <a href="http://localhost:8000/"><img class="navbar-logo" alt="d3fc" src="http://localhost:8000/images/logo.svg" /></a>
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              </div>
            <div class="navbar-collapse collapse">
              <ul class="nav navbar-nav navbar-right">
                <li class=""><a href="http://localhost:8000/components/introduction/getting-started.html">Documentation</a></li>
                <li class=""><a href="http://localhost:8000/components/chart/cartesian.html">Components</a></li>
                <li class=""><a href="http://localhost:8000/components/series/candlestick.html">Financial</a></li>
                <li class=""><a href="http://localhost:8000/api/annotation-api.html">API</a></li>
                <li class="active"><a href="http://localhost:8000/examples">Examples</a></li>
                <li><a href="git+https://github.com/d3fc/d3fc.git">GitHub</a></li>
              </ul>
            </div>
        </div>
      </nav>

      
<div class="container example">
  <div class="row">
    <div class="col-sm-9 col-xs-12">
      <h1>
        Scatterplot
      </h1>
      <div class="codepen-link">
  <form action="https://codepen.io/pen/define" method="POST" target="_blank">
    <input type="text" name="data" hidden="true"
      value='{
        "html":"&lt;div id&#x3D;\&quot;scatter-chart\&quot; class&#x3D;\&quot;chart\&quot;&gt;&lt;/div&gt;
\n",
        "js": "d3.tsv(\"https://d3fc.io/examples/scatter/data.tsv\", function(error, data) {
\n    // convert string properties to numbers
\n  data.forEach(function(d) {
\n    d.sepalLength = Number(d.sepalLength);
\n    d.sepalWidth = Number(d.sepalWidth);
\n  });
\n
\n  var species = d3.set(data.map(function(d) { return d.species; }));
\n  var color = d3.scale.category10()
\n        .domain(species.values());
\n
\n  var legend = d3.legend.color().scale(color);
\n
\n  var pointSeries = fc.series.point()
\n        .xValue(function(d) { return d.sepalWidth; })
\n        .yValue(function(d) { return d.sepalLength; })
\n        .decorate(function(sel) {
\n          sel.enter()
\n                .attr(\"fill\", function(d) { return color(d.species); });
\n        });
\n
\n  var chart = fc.chart.cartesian(
\n                  d3.scale.linear(),
\n                  d3.scale.linear())
\n        .yDomain(fc.util.extent().pad(0.2).fields([\"sepalLength\"])(data))
\n        .xDomain(fc.util.extent().pad(0.2).fields([\"sepalWidth\"])(data))
\n        .xLabel(\"Sepal Width (cm)\")
\n        .yLabel(\"Sepal Length (cm)\")
\n        .yOrient(\"left\")
\n        .margin({left: 50, bottom: 50})
\n        .plotArea(pointSeries)
\n        .decorate(function(selection) {
\n          selection.enter()
\n                .append(\"g\")
\n                .layout({
\n                  position: \"absolute\",
\n                  right: 10,
\n                  top: 10,
\n                  width: 80,
\n                  height: 50
\n                })
\n                .call(legend);
\n
\n            // compute layout from the parent SVG
\n          selection.enter().layout();
\n        });
\n
\n  d3.select(\"#scatter-chart\")
\n        .datum(data)
\n        .call(chart);
\n});
\n",
        "css": ".chart {
\n  margin: 10px 0;
\n  width: 100%;
\n  height: 250px;
\n}
\n
\n.chart &gt; svg {
\n  margin-left: auto;
\n  margin-right: auto;
\n}
\n
\n.chart.large {
\n  height: 400px;
\n}
\n#scatter-chart {
\n    margin-bottom: 20px;
\n    width: 100%;
\n    height: 400px;
\n}
\n.point {
\n    stroke-width: 0;
\n}
\n",
        "js_external": "https://d3fc.io/d3fc.bundle.js",
        "css_external": "https://d3fc.io/d3fc.css"}
      '/>
    <input type="submit" class="btn btn-default" value="Codepen"/>
  </form>
</div>


<style>
#scatter-chart {
    margin-bottom: 20px;
    width: 100%;
    height: 400px;
}
.point {
    stroke-width: 0;
}

</style>

<div id="scatter-chart" class='chart'></div>


<script>
(function() {
    function render() {
        d3.tsv('https://d3fc.io/examples/scatter/data.tsv', function(error, data) {
    // convert string properties to numbers
  data.forEach(function(d) {
    d.sepalLength = Number(d.sepalLength);
    d.sepalWidth = Number(d.sepalWidth);
  });

  var species = d3.set(data.map(function(d) { return d.species; }));
  var color = d3.scale.category10()
        .domain(species.values());

  var legend = d3.legend.color().scale(color);

  var pointSeries = fc.series.point()
        .xValue(function(d) { return d.sepalWidth; })
        .yValue(function(d) { return d.sepalLength; })
        .decorate(function(sel) {
          sel.enter()
                .attr('fill', function(d) { return color(d.species); });
        });

  var chart = fc.chart.cartesian(
                  d3.scale.linear(),
                  d3.scale.linear())
        .yDomain(fc.util.extent().pad(0.2).fields(['sepalLength'])(data))
        .xDomain(fc.util.extent().pad(0.2).fields(['sepalWidth'])(data))
        .xLabel('Sepal Width (cm)')
        .yLabel('Sepal Length (cm)')
        .yOrient('left')
        .margin({left: 50, bottom: 50})
        .plotArea(pointSeries)
        .decorate(function(selection) {
          selection.enter()
                .append('g')
                .layout({
                  position: 'absolute',
                  right: 10,
                  top: 10,
                  width: 80,
                  height: 50
                })
                .call(legend);

            // compute layout from the parent SVG
          selection.enter().layout();
        });

  d3.select('#scatter-chart')
        .datum(data)
        .call(chart);
});

    }
    render();
    $(window).resize(fc.util.render(render));
})();
</script>



<p>(based on <a href="http://bl.ocks.org/mbostock/3887118#index.html">bl.ock #3887118</a> by Mike Bostock)</p>
<p>This example demonstrates how to render a simple scatter plot with data from the <a href="https://en.wikipedia.org/wiki/Iris_flower_data_set">Iris flower dataset</a>. The chart is constructed from the following components:</p>
<ul>
<li>The <code>d3.tsv</code> component is used to load a tab-separated data file.</li>
<li>A <a href="/components/chart/cartesian.html">cartesian chart</a>, with linear scales for x and y, is used to render the plot area, axes and labels.</li>
<li>A <a href="/components/series/point.html">point series</a> is used to render the data, with the <a href="/components/introduction/decorate-pattern.html">decorate pattern</a> used to colour each point.</li>
<li>The <a href="/components/introduction/decorate-pattern.html">decorate pattern</a> is also used to add a legend (courtesy of the <a href="http://d3-legend.susielu.com">d3-legend</a> project). In this case, the legend is inserted into the SVG via the enter selection, with <a href="/components/layout/flexbox.html">svg flexbox</a> used for positioning.</li>
</ul>
<pre><code class="lang-js">d3.tsv(<span class="hljs-string">'https://d3fc.io/examples/scatter/data.tsv'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">error, data</span>) </span>{
    <span class="hljs-comment">// convert string properties to numbers</span>
  data.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">d</span>) </span>{
    d.sepalLength = <span class="hljs-built_in">Number</span>(d.sepalLength);
    d.sepalWidth = <span class="hljs-built_in">Number</span>(d.sepalWidth);
  });

  <span class="hljs-built_in">var</span> species = d3.set(data.map(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">d</span>) </span>{ <span class="hljs-keyword">return</span> d.species; }));
  <span class="hljs-built_in">var</span> <span class="hljs-built_in">color</span> = d3.scale.category10()
        .domain(species.values());

  <span class="hljs-built_in">var</span> legend = d3.legend.color().scale(<span class="hljs-built_in">color</span>);

  <span class="hljs-built_in">var</span> pointSeries = fc.series.point()
        .xValue(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">d</span>) </span>{ <span class="hljs-keyword">return</span> d.sepalWidth; })
        .yValue(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">d</span>) </span>{ <span class="hljs-keyword">return</span> d.sepalLength; })
        .decorate(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">sel</span>) </span>{
          sel.enter()
                .attr(<span class="hljs-string">'fill'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">d</span>) </span>{ <span class="hljs-keyword">return</span> <span class="hljs-built_in">color</span>(d.species); });
        });

  <span class="hljs-built_in">var</span> chart = fc.chart.cartesian(
                  d3.scale.linear(),
                  d3.scale.linear())
        .yDomain(fc.util.extent().pad(<span class="hljs-number">0.2</span>).fields([<span class="hljs-string">'sepalLength'</span>])(data))
        .xDomain(fc.util.extent().pad(<span class="hljs-number">0.2</span>).fields([<span class="hljs-string">'sepalWidth'</span>])(data))
        .xLabel(<span class="hljs-string">'Sepal Width (cm)'</span>)
        .yLabel(<span class="hljs-string">'Sepal Length (cm)'</span>)
        .yOrient(<span class="hljs-string">'left'</span>)
        .margin({<span class="hljs-attribute">left</span>: <span class="hljs-number">50</span>, <span class="hljs-attribute">bottom</span>: <span class="hljs-number">50</span>})
        .plotArea(pointSeries)
        .decorate(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">selection</span>) </span>{
          selection.enter()
                .append(<span class="hljs-string">'g'</span>)
                .layout({
                  <span class="hljs-attribute">position</span>: <span class="hljs-string">'absolute'</span>,
                  <span class="hljs-attribute">right</span>: <span class="hljs-number">10</span>,
                  <span class="hljs-attribute">top</span>: <span class="hljs-number">10</span>,
                  <span class="hljs-attribute">width</span>: <span class="hljs-number">80</span>,
                  <span class="hljs-attribute">height</span>: <span class="hljs-number">50</span>
                })
                .call(legend);

            <span class="hljs-comment">// compute layout from the parent SVG</span>
          selection.enter().layout();
        });

  d3.select(<span class="hljs-string">'#scatter-chart'</span>)
        .datum(data)
        .call(chart);
});
</code></pre>

    </div>

    <nav class="col-sm-3 hidden-xs">
      <ul class="nav nav-stacked fixed nav-sidebar">
        <li>
          <h4>Examples</h4>
          <ul class="nav nav-stacked">
                <li class="">
                  <a href="/examples/area-line-point/index.html">Area Line Point</a>
                </li>
                <li class="">
                  <a href="/examples/bubble/index.html">Bubble Chart</a>
                </li>
                <li class="">
                  <a href="/examples/low-barrel/index.html">Low Barrel</a>
                </li>
                <li class="">
                  <a href="/examples/multi-line/index.html">Multi Line</a>
                </li>
                <li class="active">
                  <a href="/examples/scatter/index.html">Scatterplot</a>
                </li>
                <li class="">
                  <a href="/examples/simple/index.html">Line / Area Chart</a>
                </li>
                <li class="">
                  <a href="/examples/stacked/index.html">Stacked Bar</a>
                </li>
                <li class="">
                  <a href="/examples/streaming/index.html">Streaming Chart</a>
                </li>
                <li class="">
                  <a href="/examples/wealth-and-health-of-nations/index.html">The Wealth &amp; Health of Nations</a>
                </li>
          </ul>
        </li>
      </ul>
    </nav>
  </div>

</div>


    </div>
    <footer>
      <div class="container">
        <p class="muted credit text-center">Project supported by <a href="http://www.scottlogic.com">Scott Logic</a>.</p>
        <p class="muted credit text-center">Browser testing provided by <a class="browserstack" href="https://browserstack.com">BrowserStack</a>.</p>
      </div>
    </footer>

      <script src="//localhost:35729/livereload.js"></script>
  </body>
</html>
