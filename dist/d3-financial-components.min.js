/*! d3-financial-components 09-12-2014 */

window.fc={version:"0.0.0",indicators:{},scale:{},series:{},tools:{},utilities:{}},function(a,b){"use strict";b.utilities.chartLayout=function(){var b={top:20,right:40,bottom:20,left:40},c=0,d=0,e=!0,f=!0,g=function(h){h.each(function(){var h=a.select(this),i=getComputedStyle(this);if(e===!0){var j=parseInt(i.paddingLeft,10)+parseInt(i.paddingRight,10);c=this.clientWidth-j,g.innerWidth()<1&&(c=800+b.left+b.right)}if(f===!0){var k=parseInt(i.paddingTop,10)+parseInt(i.paddingBottom,10);d=this.clientHeight-k,g.innerHeight()<1&&(d=400+b.top+b.bottom)}var l=h.append("svg").attr("width",c).attr("height",d),m=l.append("g").attr("class","chartArea").attr("transform","translate("+b.left+","+b.top+")");m.append("defs").append("clipPath").attr("id","plotAreaClip").append("rect").attr({width:g.innerWidth(),height:g.innerHeight()}),m.append("rect").attr("class","background").attr("width",g.innerWidth()).attr("height",g.innerHeight()),m.append("g").attr("clip-path","url(#plotAreaClip)").attr("class","plotArea"),m.append("g").attr("class","axis bottom").attr("transform","translate(0,"+g.innerHeight()+")"),m.append("g").attr("class","axis top").attr("transform","translate(0, 0)"),m.append("g").attr("class","axis left").attr("transform","translate(0, 0)"),m.append("g").attr("class","axis right").attr("transform","translate("+g.innerWidth()+", 0)")})};return g.marginTop=function(a){return arguments.length?(b.top=a,g):b.top},g.marginRight=function(a){return arguments.length?(b.right=a,g):b.right},g.marginBottom=function(a){return arguments.length?(b.bottom=a,g):b.bottom},g.marginLeft=function(a){return arguments.length?(b.left=a,g):b.left},g.width=function(a){return arguments.length?(c=a,e=!1,g):c},g.height=function(a){return arguments.length?(d=a,f=!1,g):d},g.innerWidth=function(){var a=c-b.left-b.right;return a},g.innerHeight=function(){var a=d-b.top-b.bottom;return a},g.getSVG=function(a){return a.select("svg")},g.getChartArea=function(a){return g.getSVG(a).select(".chartArea")},g.getPlotArea=function(a){return g.getSVG(a).select(".plotArea")},g.getAxisContainer=function(a,b){return g.getSVG(a).select(".axis."+b)},g.getPlotAreaBackground=function(a){return g.getSVG(a).select(".chartArea rect.background")},g}}(d3,fc),function(a){"use strict";a.utilities.dataGenerator=function(){var a=.1,b=.1,c=100,d=1e5,e=50,f=.3,g=new Date,h=new Date,i=!1,j=function(a){return!(0===a.getDay()||6===a.getDay())},k=function(d,e){var f,g=m(d,e,a,b),h=[];for(h[0]=c,f=1;f<g.length;f+=1)h[f]=h[f-1]*g[f];return h},l=function(a,b){var c,e=m(a,b,0,1),g=[];for(f=Math.max(0,Math.min(f,1)),g[0]=d,c=1;c<e.length;c+=1)g[c]=g[c-1]*e[c];return g=g.map(function(a){return Math.floor(a*(1-f+Math.random()*f*2))})},m=function(a,b,c,d){for(var e=[],f=a/b,g=Math.sqrt(f),h=0;b>h;h++){var j=i?o():n()[0];j*=g,j*=d,j+=(c-d*d/2)*f,e.push(Math.exp(j))}return e},n=function(){var a,b,c=0,d=0;do c=2*Math.random()-1,d=2*Math.random()-1,a=c*c+d*d;while(0===a||a>1);return b=Math.sqrt(-2*Math.log(a)/a),[c*b,d*b]},o=function(){return 2*Math.random()-1+(2*Math.random()-1)+(2*Math.random()-1)},p=function(){for(var a,b,c,d=315569e5,f=(g.getTime()-h.getTime())/d,i=0,m=[],n=0,o=0,p=new Date(h.getTime());g>=p;)(!j||j(p))&&(i+=1),p.setDate(p.getDate()+1);for(a=k(f,i*e),b=l(f,i),p=new Date(h.getTime());g>=p;)(!j||j(p))&&(c=a.slice(o,o+e),m.push({date:new Date(p.getTime()),open:c[0],high:Math.max.apply({},c),low:Math.min.apply({},c),close:c[e-1],volume:b[n]}),o+=e,n+=1),p.setDate(p.getDate()+1);return m},q=function(){};return q.generate=function(){return p()},q.mu=function(b){return arguments.length?(a=b,q):a},q.sigma=function(a){return arguments.length?(b=a,q):b},q.startingPrice=function(a){return arguments.length?(c=a,q):c},q.startingVolume=function(a){return arguments.length?(d=a,q):d},q.intraDaySteps=function(a){return arguments.length?(e=a,q):e},q.volumeNoiseFactor=function(a){return arguments.length?(f=a,q):f},q.filter=function(a){return arguments.length?(j=a,q):j},q.toDate=function(a){return arguments.length?(g=a,q):g},q.fromDate=function(a){return arguments.length?(h=a,q):h},q}}(fc),function(a,b){"use strict";function c(a){if(a in f)return f[a];for(var b=e(a),c=a.getFullYear();--c>=1970;)b+=d(c);return f[a]=b,b}function d(a){return e(new Date(a,11,31))+1}function e(b){var c=a.time.dayOfYear(b),d=c/7|0,e=(a.time.year(b).getDay()+6)%7,f=e+c-7*d;return Math.max(0,c-2*d-(5>=e&&f>=5||12>=e&&f>=12)-(6>=e&&f>=6||13>=e&&f>=13))}var f={},g={};c.invert=function(a){if(a in g)return g[a];for(var b,c,e=1970;(b=d(e))<=a;)++e,a-=b;var f=a%5,h=(new Date(e,0,1).getDay()+6)%7;return h+f>4&&(f+=2),c=new Date(e,0,7*(a/5|0)+f+1),g[a]=c,c},b.utilities.weekday=c}(d3,fc),function(a,b){"use strict";b.indicators.bollingerBands=function(){var b=a.time.scale(),c=a.scale.linear(),d=function(a){return a.close},e=20,f=2,g="bollingerBandArea",h="bollingerBandUpper",i="bollingerBandLower",j="bollingerAverage",k=function(k){var l=a.svg.area(),m=a.svg.line(),n=a.svg.line(),o=a.svg.line();l.x(function(a){return b(a.date)}),m.x(function(a){return b(a.date)}),n.x(function(a){return b(a.date)}),o.x(function(a){return b(a.date)});var p=function(a,b){if(0===e)return d(a[b]);for(var c=Math.min(e,b+1),f=b+1-c,g=0,h=f;b>=h;++h){var i=d(a[h]);g+=i}return g/c},q=function(a,b,c){if(0===e)return 0;for(var f=Math.min(e,b+1),g=b+1-f,h=0,i=g;b>=i;++i){var j=d(a[i]),k=j-c;h+=k*k}var l=h/f;return Math.sqrt(l)};k.each(function(b){for(var d={},k=0;k<b.length;++k){var r=b[k].date,s=p(b,k),t=q(b,k,s);d[r]={avg:s,sd:t}}l.y0(function(a){var b=d[a.date].avg,e=d[a.date].sd;return c(b+e*f)}),l.y1(function(a){var b=d[a.date].avg,e=d[a.date].sd;return c(b-e*f)}),m.y(function(a){var b=d[a.date].avg,e=d[a.date].sd;return c(b+e*f)}),n.y(function(a){var b=d[a.date].avg,e=d[a.date].sd;return c(b-e*f)}),o.y(function(a){var b=d[a.date].avg;return c(b)});for(var u=[],v=e;v<b.length;++v)u.push(b[v]);var w=a.select(this).selectAll(".area").data([u]),x=a.select(this).selectAll(".upper").data([u]),y=a.select(this).selectAll(".lower").data([u]),z=a.select(this).selectAll(".average").data([u]);w.enter().append("path"),x.enter().append("path"),y.enter().append("path"),z.enter().append("path"),w.attr("d",l).classed("area",!0).classed(g,!0),x.attr("d",m).classed("upper",!0).classed(h,!0),y.attr("d",n).classed("lower",!0).classed(i,!0),z.attr("d",o).classed("average",!0).classed(j,!0),w.exit().remove(),x.exit().remove(),y.exit().remove(),z.exit().remove()})};return k.xScale=function(a){return arguments.length?(b=a,k):b},k.yScale=function(a){return arguments.length?(c=a,k):c},k.yValue=function(a){return arguments.length?(d=a,k):d},k.movingAverage=function(a){return arguments.length?(a>=0&&(e=a),k):e},k.standardDeviations=function(a){return arguments.length?(a>=0&&(f=a),k):f},k.cssBandUpper=function(a){return arguments.length?(h=a,k):h},k.cssBandLower=function(a){return arguments.length?(i=a,k):i},k.cssBandArea=function(a){return arguments.length?(g=a,k):g},k.cssAverage=function(a){return arguments.length?(j=a,k):j},k}}(d3,fc),function(a,b){"use strict";b.indicators.movingAverage=function(){var b=a.time.scale(),c=a.scale.linear(),d=function(){return 0},e=5,f="",g=function(g){var h=a.svg.line();h.x(function(a){return b(a.date)}),g.each(function(b){h.y(0===e?function(a){return c(d(a))}:function(a,f){for(var g=Math.min(e,f+1),h=f+1-g,i=0,j=h;f>=j;++j)i+=d(b[j]);var k=i/g;return c(k)});var g=a.select(this).selectAll(".indicator").data([b]);g.enter().append("path"),g.attr("d",h).classed("indicator",!0).classed(f,!0),g.exit().remove()})};return g.xScale=function(a){return arguments.length?(b=a,g):b},g.yScale=function(a){return arguments.length?(c=a,g):c},g.yValue=function(a){return arguments.length?(d=a,g):d},g.averagePoints=function(a){return arguments.length?(a>=0&&(e=a),g):e},g.css=function(a){return arguments.length?(f=a,g):f},g}}(d3,fc),function(a,b){"use strict";b.indicators.rsi=function(){var b=a.time.scale(),c=a.scale.linear(),d=14,e=70,f=30,g=1,h="",i=function(a){return a.close},j=null,k=null,l=null,m=function(m){m.selectAll(".marker").remove(),j=m.append("line").attr("class","marker upper").attr("x1",b.range()[0]).attr("y1",c(e)).attr("x2",b.range()[1]).attr("y2",c(e)),k=m.append("line").attr("class","marker centre").attr("x1",b.range()[0]).attr("y1",c(50)).attr("x2",b.range()[1]).attr("y2",c(50)),l=m.append("line").attr("class","marker lower").attr("x1",b.range()[0]).attr("y1",c(f)).attr("x2",b.range()[1]).attr("y2",c(f));var n=a.svg.line();n.x(function(a){return b(a.date)}),m.each(function(b){n.y(0===d?function(){return c(0)}:function(e,f){var h=f-d,j=f,k=[],l=[];1>h&&(h=1);for(var m=j;m>=h;m--){var n=b[m],o=b[m-1],p=Math.pow(g,m);k.push(i(n)>i(o)?(i(n)-i(o))*p:0),l.push(i(n)<i(o)?(i(o)-i(n))*p:0)}if(k.length<=0||l.length<=0)return c(0);var q=100-100/(1+a.mean(k)/a.mean(l));return c(q)});var e=a.select(this).selectAll(".rsi").data([b]);e.enter().append("path"),e.attr("d",n).classed("rsi",!0).classed(h,!0),e.exit().remove()})};return m.xScale=function(a){return arguments.length?(b=a,m):b},m.yScale=function(a){return arguments.length?(c=a,m):c},m.samplePeriods=function(a){return arguments.length?(d=0>a?0:a,m):d},m.upperMarker=function(a){return arguments.length?(e=a>100?100:0>a?0:a,m):e},m.lowerMarker=function(a){return arguments.length?(f=a>100?100:0>a?0:a,m):f},m.lambda=function(a){return arguments.length?(g=a>1?1:0>a?0:a,m):g},m.css=function(a){return arguments.length?(h=a,m):h},m.yValue=function(a){return arguments.length?(i=a,m):i},m}}(d3,fc),function(a,b){"use strict";function c(b){function e(a){var c=0;c=b("number"==typeof a?a:d(a));var e=Math.round(c);return f?c>e?e+.5:e-.5:c}var f=!0;return arguments.length||(b=a.scale.linear()),e.copy=function(){return c(b.copy())},e.domain=function(a){return arguments.length?(b.domain("number"==typeof a[0]?a:a.map(d)),e):b.domain().map(d.invert)},e.ticks=function(a){return arguments.length?b.ticks(a):b.ticks()},e.tickFormat=function(){return function(b){var c=d.invert(b);return a.time.format("%b %e")(c)}},e.invert=function(a){return d.invert(b.invert(a))},e.alignPixels=function(a){return arguments.length?(f=a,e):f},a.rebind(e,b,"range","rangeRound","interpolate","clamp","nice")}var d=b.utilities.weekday;b.scale.finance=function(){return c()}}(d3,fc),function(a,b){"use strict";b.scale.gridlines=function(){var b=a.time.scale(),c=a.scale.linear(),d=10,e=10,f=function(a,d){var e=d.selectAll(".x").data(a);e.enter().append("line").attr({"class":"x",x1:function(a){return b(a)},x2:function(a){return b(a)},y1:c.range()[0],y2:c.range()[1]}),e.attr({x1:function(a){return b(a)},x2:function(a){return b(a)},y1:c.range()[0],y2:c.range()[1]}),e.exit().remove()},g=function(a,d){var e=d.selectAll(".y").data(a);e.enter().append("line").attr({"class":"y",x1:b.range()[0],x2:b.range()[1],y1:function(a){return c(a)},y2:function(a){return c(a)}}),e.attr({x1:b.range()[0],x2:b.range()[1],y1:function(a){return c(a)},y2:function(a){return c(a)}}),e.exit().remove()},h=function(h){var i,j,k;h.each(function(){j=b.ticks(d),k=c.ticks(e),i=a.select(this).selectAll(".gridlines").data([[j,k]]),i.enter().append("g").classed("gridlines",!0),f(j,i),g(k,i)})};return h.xScale=function(a){return arguments.length?(b=a,h):b},h.yScale=function(a){return arguments.length?(c=a,h):c},h.xTicks=function(a){return arguments.length?(d=a,h):d},h.yTicks=function(a){return arguments.length?(e=a,h):e},h}}(d3,fc),function(a,b){"use strict";function c(b){function d(a){var c=b(a),d=Math.round(c);return e?c>d?d+.5:d-.5:c}var e=!0;return arguments.length||(b=a.scale.linear()),d.copy=function(){return c(b.copy())},d.domain=function(a){return b.domain(a),d},d.ticks=function(a){return b.ticks(a)},d.invert=function(a){return b.invert(a)},d.alignPixels=function(a){return arguments.length?(e=a,d):e},a.rebind(d,b,"range","rangeRound","interpolate","clamp","nice")}b.scale.linear=function(){return c()}}(d3,fc),function(a,b){"use strict";b.series.candlestick=function(){var b=a.time.scale(),c=a.scale.linear(),d=function(a){return a.open},e=function(a){return a.high},f=function(a){return a.low},g=function(a){return a.close},h=5,i=function(a){return g(a)>d(a)},j=function(a){return!i(a)},k=a.svg.line().x(function(a){return a.x}).y(function(a){return a.y}),l=function(a){var d=a.selectAll(".high-low-line").data(function(a){return[a]});d.enter().append("path"),d.classed("high-low-line",!0).attr("d",function(a){return k([{x:b(a.date),y:c(e(a))},{x:b(a.date),y:c(f(a))}])})},m=function(a){var e;e=a.selectAll("rect").data(function(a){return[a]}),e.enter().append("rect"),e.attr("x",function(a){return b(a.date)-h/2}).attr("y",function(a){return c(i(a)?g(a):d(a))}).attr("width",h).attr("height",function(a){return i(a)?c(d(a))-c(g(a)):c(g(a))-c(d(a))})},n=function(b){var c,d;b.each(function(b){c=a.select(this).selectAll(".candlestick-series").data([b]),c.enter().append("g").classed("candlestick-series",!0),d=c.selectAll(".bar").data(b,function(a){return a.date}),d.enter().append("g").classed("bar",!0),d.classed({"up-day":i,"down-day":j}),l(d),m(d),d.exit().remove()})};return n.xScale=function(a){return arguments.length?(b=a,n):b},n.yScale=function(a){return arguments.length?(c=a,n):c},n.rectangleWidth=function(a){return arguments.length?(h=a,n):h},n.yOpen=function(a){return arguments.length?(d=a,n):d},n.yHigh=function(a){return arguments.length?(e=a,n):e},n.yLow=function(a){return arguments.length?(f=a,n):f},n.yClose=function(a){return arguments.length?(g=a,n):g},n}}(d3,fc),function(a,b){"use strict";b.series.comparison=function(){var b,c,d=a.time.scale(),e=a.scale.linear(),f=function(a,b){var c=a.domain(),d=b.domain(),e=(c[1]-c[0])/(d[1]-d[0]),f=e*(a.range()[1]-a(d[1]));return{translate:f,scale:e}},g=function(b,c){var d=a.bisector(function(a){return a.date}).left,e=d(b,c);return 0===e&&(e+=1),e},h=function(a,b){var c=g(a,b)-1,d=a[c].close;return a.map(function(a){return{date:a.date,change:a.close/d-1}})},i=function(a,b){var c=g(a,b)-1,d=a[c].change;return a.map(function(a){return{date:a.date,change:a.change-d}})},j=function(b,c){var d,e;b=b.map(function(a){return a=a.data,d=g(a,c[0])-1,e=g(a,c[1])+1,a.slice(d,e)});var f=b.reduce(function(a,b){return a.concat(b)},[]);return f.length?a.extent(f,function(a){return a.change}):[0,0]},k=a.scale.category10(),l=a.svg.line().interpolate("linear").x(function(a){return d(a.date)}).y(function(a){return e(a.change)}),m=function(f){var g,i;f.each(function(f){f=f.map(function(a){return{name:a.name,data:h(a.data,d.domain()[0])}}),b=f,k.domain(f.map(function(a){return a.name})),e.domain(j(f,d.domain())),c=e.copy(),g=a.select(this).selectAll(".comparison-series").data([f]),g.enter().append("g").classed("comparison-series",!0),i=g.selectAll(".line").data(f,function(a){return a.name}).enter().append("path").attr("class",function(a){return"line line"+f.indexOf(a)}).attr("d",function(a){return l(a.data)}).style("stroke",function(a){return k(a.name)}),g.selectAll(".line").attr("d",function(a){return l(a.data)})})};return m.geometricZoom=function(a,h,k){var l,m,n=function(a){var b=c(0)-c(a);return b*=m.scale,b+=m.translate,"translate("+h+","+b+") scale("+k+","+m.scale+")"},o=b.map(function(a){return{name:a.name,data:i(a.data,d.domain()[0])}});e.domain(j(o,d.domain())),m=f(c,e),b=b.map(function(a){return l=g(a.data,d.domain()[0])-1,{name:a.name,data:a.data,transform:n(a.data[l].change)}}),a.selectAll(".line").data(b).attr("transform",function(a){return a.transform})},m.xScale=function(a){return arguments.length?(d=a,m):d},m.yScale=function(a){return arguments.length?(e=a,m):e},m}}(d3,fc),function(a,b){"use strict";b.series.line=function(){var c=function(a){return a.close},d=b.scale.finance(),e=b.scale.linear(),f=!0,g=function(b){var g;f&&(g=a.svg.area().x(function(a){return d(a.date)}).y0(e(0)));var h=a.svg.line();h.x(function(a){return d(a.date)}),b.each(function(b){if(f){g.y1(function(a){return e(c(a))});var d=a.select(this).selectAll(".lineSeriesArea").data([b]);d.enter().append("path").attr("d",g).classed("lineSeriesArea",!0),d.exit().remove()}h.y(function(a){return e(c(a))});var i=a.select(this).selectAll(".lineSeries").data([b]);i.enter().append("path").attr("d",h).classed("lineSeries",!0),i.exit().remove()})};return g.yValue=function(a){return arguments.length?(c=a,g):c},g.xScale=function(a){return arguments.length?(d=a,g):d},g.yScale=function(a){return arguments.length?(e=a,g):e},g.underFill=function(a){return arguments.length?(f=a,g):f},g}}(d3,fc),function(a,b){"use strict";b.series.ohlc=function(b){var c,d=a.time.scale(),e=a.scale.linear(),f=5,g=function(a){return a.open},h=function(a){return a.high},i=function(a){return a.low},j=function(a){return a.close},k=function(a){return e(g(a))},l=function(a){return e(h(a))},m=function(a){return e(i(a))},n=function(a){return e(j(a))},o=function(a){return d(a.date)},p=function(a){return j(a)>g(a)},q=function(a){return j(a)<g(a)},r=function(a){return j(a)===g(a)},s=function(a){return p(a)?"green":q(a)?"red":"black"},t=function(a){var b="M"+o(a)+","+m(a),c="V"+l(a),d="M"+o(a)+","+k(a)+"h"+-f,e="M"+o(a)+","+n(a)+"h"+f;return b+c+d+e},u=function(a){var b="M0,0";return a.forEach(function(a){b+=t(a)}),b},v=function(a,b,c,d,e){var f,g=d.filter(function(a){return e(a)});f=a.selectAll("."+b).data([g]),f.enter().append("path").classed(b,!0),f.attr("d",u(g)).attr("stroke",c),f.exit().remove()},w=function(b,c){var d=a.select(b).selectAll(".ohlc-series").data([c]);return d.enter().append("g").classed("ohlc-series",!0),d},x=function(a){a.each(function(a){var b=w(this,a),c=b.selectAll(".bar").data(a,function(a){return a.date}),d=c.enter().append("g").classed("bar",!0);d.append("line").classed("high-low-line",!0),d.append("line").classed("open-tick",!0),d.append("line").classed("close-tick",!0),c.classed({"up-day":p,"down-day":q,"static-day":r}),c.attr("stroke",s),c.select(".high-low-line").attr({x1:o,y1:m,x2:o,y2:l}),c.select(".open-tick").attr({x1:function(a){return o(a)-f},y1:k,x2:o,y2:k}),c.select(".close-tick").attr({x1:o,y1:n,x2:function(a){return o(a)+f},y2:n}),c.exit().remove()})},y=function(a){a.each(function(a){var b=w(this,a),c=b.selectAll(".bar").data(a,function(a){return a.date});c.enter().append("path").classed("bar",!0),c.classed({"up-day":p,"down-day":q,"static-day":r}),c.attr({stroke:s,d:t}),c.exit().remove()})},z=function(a){a.each(function(a){var b=w(this,a);v(b,"up-days","green",a,p),v(b,"down-days","red",a,q),v(b,"static-days","black",a,r)})};switch(b){case"line":c=x;break;case"path":c=y;break;case"paths":c=z;break;default:c=y}return c.xScale=function(a){return arguments.length?(d=a,c):d},c.yScale=function(a){return arguments.length?(e=a,c):e},c.tickWidth=function(a){return arguments.length?(f=a,c):f},c.yOpen=function(a){return arguments.length?(g=a,c):g},c.yHigh=function(a){return arguments.length?(h=a,c):h},c.yLow=function(a){return arguments.length?(i=a,c):i},c.yClose=function(a){return arguments.length?(j=a,c):j},c}}(d3,fc),function(a,b){"use strict";b.series.volume=function(){var b=a.time.scale(),c=a.scale.linear(),d=5,e=function(a){return a.volume},f=function(a){return a.close>a.open},g=function(a){return!f(a)},h=function(a){var f;f=a.selectAll("rect").data(function(a){return[a]}),f.enter().append("rect"),f.attr("x",function(a){return b(a.date)-d/2}).attr("y",function(a){return c(e(a))}).attr("width",d).attr("height",function(a){return c(0)-c(e(a))})},i=function(b){var c,d;b.each(function(b){c=a.select(this).selectAll(".volume-series").data([b]),c.enter().append("g").classed("volume-series",!0),d=c.selectAll(".volumebar").data(b,function(a){return a.date}),d.enter().append("g").classed("volumebar",!0),d.classed({"up-day":f,"down-day":g}),h(d),d.exit().remove()})};return i.xScale=function(a){return arguments.length?(b=a,i):b},i.yScale=function(a){return arguments.length?(c=a,i):c},i.barWidth=function(a){return arguments.length?(d=a,i):d},i.yValue=function(a){return arguments.length?(e=a,i):e},i}}(d3,fc),function(a,b){"use strict";b.tools.annotation=function(){var b=0,c=a.time.scale(),d=a.scale.linear(),e="",f=0,g=2,h=function(a){return a},i=null,j=null,k=null,l=function(a){i=a.append("g").attr("id","annotation_"+b).attr("class","annotation"),j=i.append("line").attr("class","marker").attr("x1",c.range()[0]).attr("y1",d(f)).attr("x2",c.range()[1]).attr("y2",d(f)),k=i.append("text").attr("class","callout").attr("x",c.range()[1]-g).attr("y",d(f)-g).attr("style","text-anchor: end;").text(e+": "+h(f))};return l.index=function(a){return arguments.length?(b=a,l):b},l.xScale=function(a){return arguments.length?(c=a,l):c},l.yScale=function(a){return arguments.length?(d=a,l):d},l.yValue=function(a){return arguments.length?(f=a,l):f},l.yLabel=function(a){return arguments.length?(e=a,l):e},l.padding=function(a){return arguments.length?(g=a,l):g},l.formatCallout=function(a){return arguments.length?(h=a,l):h},l}}(d3,fc),function(a,b){"use strict";b.tools.callouts=function(){var b=a.time.scale(),c=a.scale.linear(),d=5,e=5,f=0,g=20,h=20,i=50,j="callout",k=[],l=null,m=[],n=0,o=function(a,b){return!(b.left>a.right||b.right<a.left||b.top>a.bottom||b.bottom<a.top)},p=function(){if(m){var a=m.sort(function(a,b){return a.y<b.y?-1:a.y>b.y?1:0});n=g;for(var b=0;b<a.length;b++){var c=i*Math.sin(n*(Math.PI/180));a[b].x+=c;var f=i*Math.cos(n*(Math.PI/180));a[b].y-=f,n+=h}for(var j=0;j<a.length;j++)for(var k=j+1;k<a.length;k++)if(a[j].left||(a[j].left=function(){return this.x-d},a[j].right=function(){return this.x+this.width+d},a[j].bottom=function(){return this.y+this.height+d},a[j].top=function(){return this.y-d}),a[k].left||(a[k].left=function(){return this.x-d},a[k].right=function(){return this.x+this.width+d},a[k].bottom=function(){return this.y+this.height+d},a[k].top=function(){return this.y-d}),o(a[j],a[k])){var l=0,p=a[k].right()-a[j].left(),q=a[j].right()-a[k].left();p>q&&(l=1);var r=a[j].bottom()-a[k].top();q>r&&p>r&&(l=2),0===l?a[k].x-=p+e:1===l?a[k].x+=q+e:2===l&&(a[k].y+=r+e)}m=a}},q=function(a){var e=a.selectAll("g").data(k).enter().append("g").attr("transform",function(a){return"translate("+b(a.x)+","+c(a.y)+")"}).attr("class",function(a){return a.css?a.css:j});e.append("text").attr("style","text-anchor: left;").text(function(a){return a.label}),e.insert("rect",":first-child").attr("x",function(){return-d-f}).attr("y",function(a){return l=this.parentNode.getBBox(),l.x=b(a.x),l.y=c(a.y),m.push(l),-l.height}).attr("width",function(){return l.width+2*d+2*f}).attr("height",function(){return l.height+2*d}).attr("rx",f).attr("ry",f),p();var g=0;e.attr("transform",function(){return"translate("+m[g].x+","+m[g++].y+")"}),e=a.selectAll("g").data(k).exit()};return q.addCallout=function(a){return k.push(a),q},q.xScale=function(a){return arguments.length?(b=a,q):b},q.yScale=function(a){return arguments.length?(c=a,q):c},q.padding=function(a){return arguments.length?(d=a,q):d},q.spacing=function(a){return arguments.length?(e=a,q):e},q.rounded=function(a){return arguments.length?(f=a,q):f},q.stalkLength=function(a){return arguments.length?(i=a,q):i},q.rotationStart=function(a){return arguments.length?(g=a,q):g},q.rotationSteps=function(a){return arguments.length?(h=a,q):h},q.css=function(a){return arguments.length?(j=a,q):j},q}}(d3,fc),function(a,b){"use strict";b.tools.crosshairs=function(){function b(){o&&z.update()}function c(){o&&z.clear()}function d(){p&&z.active(!o)}function e(a){var b=null,c=Number.MAX_VALUE;return i.forEach(function(d){var e=Math.abs(a-j(d.date));c>e&&(c=e,b=d)}),b}function f(a,b){var c=null,d=Number.MAX_VALUE;for(var e in b)if(b.hasOwnProperty(e)&&"date"!==e){var f=Math.abs(a-k(b[e]));d>=f&&(d=f,c=e)}return b[c]}function g(){var a=j(x.date),b=k(y);s.attr("y1",b).attr("y2",b),t.attr("x1",a).attr("x2",a),u.attr("cx",a).attr("cy",b),v.attr("y",b-q).text(m(y)),w.attr("x",a-q).text(n(x.date)),s.attr("display","inherit"),t.attr("display","inherit"),u.attr("display","inherit"),v.attr("display","inherit"),w.attr("display","inherit")}var h=null,i=null,j=a.time.scale(),k=a.scale.linear(),l=null,m=null,n=null,o=!0,p=!0,q=2,r=null,s=null,t=null,u=null,v=null,w=null,x=null,y=null,z=function(){var a=h.append("g").attr("class","crosshairs");s=a.append("line").attr("class","crosshairs horizontal").attr("x1",j.range()[0]).attr("x2",j.range()[1]).attr("display","none"),t=a.append("line").attr("class","crosshairs vertical").attr("y1",k.range()[0]).attr("y2",k.range()[1]).attr("display","none"),u=a.append("circle").attr("class","crosshairs circle").attr("r",6).attr("display","none"),v=a.append("text").attr("class","crosshairs callout horizontal").attr("x",j.range()[1]-q).attr("style","text-anchor: end").attr("display","none"),w=a.append("text").attr("class","crosshairs callout vertical").attr("y","1em").attr("style","text-anchor: end").attr("display","none")};return z.update=function(){if(o){var b=[0,0];try{b=a.mouse(h[0][0])}catch(c){}var d=e(b[0]);if(null!==d){var i=null;i=l?l(d):f(b[1],d),(d!==x||i!==y)&&(x=d,y=i,g(),r&&r(x))}}else g()},z.clear=function(){x=null,y=null,s.attr("display","none"),t.attr("display","none"),u.attr("display","none"),v.attr("display","none"),w.attr("display","none")},z.target=function(a){return arguments.length?(h&&(h.on("mousemove.crosshairs",null),h.on("mouseout.crosshairs",null),h.on("click.crosshairs",null)),h=a,h.on("mousemove.crosshairs",b),h.on("mouseout.crosshairs",c),h.on("click.crosshairs",d),z):h},z.series=function(a){return arguments.length?(i=a,z):i},z.xScale=function(a){return arguments.length?(j=a,z):j},z.yScale=function(a){return arguments.length?(k=a,z):k},z.yValue=function(a){return arguments.length?(l=a,z):l},z.formatH=function(a){return arguments.length?(m=a,z):m},z.formatV=function(a){return arguments.length?(n=a,z):n},z.active=function(a){return arguments.length?(o=a,s.classed("frozen",!o),t.classed("frozen",!o),u.classed("frozen",!o),z):o},z.freezable=function(a){return arguments.length?(p=a,z):p},z.padding=function(a){return arguments.length?(q=a,z):q},z.onSnap=function(a){return arguments.length?(r=a,z):r},z.highlightedPoint=function(){return x},z}}(d3,fc),function(a,b){"use strict";b.tools.fibonacciFan=function(){function b(){if(o)switch(w){case 1:x=d(),x&&(z.update(),p.attr("display","inherit"));break;case 2:y=d(),y&&(z.update(),q.attr("display","inherit"),r.attr("display","inherit"));break;case 3:}}function c(){if(o)switch(w){case 1:w=2;break;case 2:g(),w=3;break;case 3:h(),w=1}}function d(){var b=[0,0];try{b=a.mouse(k[0][0])}catch(c){}var d=m.invert(b[0]),g=n.invert(b[1]),h=e(d);if(null!==h){var i=f(g,h);if(null!==i)return{point:h,field:i}}return null}function e(a){var b=null,c=Number.MAX_VALUE;return l.forEach(function(d){var e=Math.abs(a.getTime()-d.date.getTime());c>e&&(c=e,b=d)}),b}function f(a,b){var c=null,d=Number.MAX_VALUE;for(var e in b)if(b.hasOwnProperty(e)&&"date"!==e){var f=Math.abs(a-b[e]);d>=f&&(d=f,c=e)}return c}function g(){if(m(x.point.date)>m(y.point.date)){var a=x;x=y,y=a}var b=m(x.point.date),c=n(x.point[x.field]),d=m(y.point.date),e=n(y.point[y.field]),f=m.range()[1],g=i(b,c,d,e,f);if(g){j(b,c,f,g.source,g.source,g.source),s.attr("display","inherit"),t.attr("display","inherit"),u.attr("display","inherit"),v.attr("display","inherit");var h=b+","+c+" "+f+","+g.a+" "+f+","+g.c;s.transition().attr("y2",g.a),t.transition().attr("y2",g.b),u.transition().attr("y2",g.c),v.transition().attr("points",h)}p.attr("display","none"),q.attr("display","none")}function h(){x=null,y=null,p.attr("display","none"),q.attr("display","none"),r.attr("display","none"),s.attr("display","none"),t.attr("display","none"),u.attr("display","none"),v.attr("display","none")}function i(a,b,c,d,e){if(a===c)return null;var f=(d-b)/(c-a),g=f*(e-a)+b,h=.618*f*(e-a)+b,i=.5*f*(e-a)+b,j=.382*f*(e-a)+b;return{source:g,a:h,b:i,c:j}}function j(a,b,c,d,e,f){var g=a+","+b+" "+c+","+d+" "+c+","+f;s.attr("x1",a).attr("y1",b).attr("x2",c).attr("y2",d),t.attr("x1",a).attr("y1",b).attr("x2",c).attr("y2",e),u.attr("x1",a).attr("y1",b).attr("x2",c).attr("y2",f),v.attr("points",g)}var k=null,l=null,m=a.time.scale(),n=a.scale.linear(),o=!0,p=null,q=null,r=null,s=null,t=null,u=null,v=null,w=1,x=null,y=null,z=function(){var a=k.append("g").attr("class","fibonacci-fan");p=a.append("circle").attr("class","fibonacci-fan origin").attr("r",6).attr("display","none"),q=a.append("circle").attr("class","fibonacci-fan target").attr("r",6).attr("display","none"),r=a.append("line").attr("class","fibonacci-fan source").attr("display","none"),s=a.append("line").attr("class","fibonacci-fan a").attr("display","none"),t=a.append("line").attr("class","fibonacci-fan b").attr("display","none"),u=a.append("line").attr("class","fibonacci-fan c").attr("display","none"),v=a.append("polygon").attr("class","fibonacci-fan area").attr("display","none")};return z.update=function(){if(x){var a=m(x.point.date),b=n(x.point[x.field]);if(p.attr("cx",a).attr("cy",b),r.attr("x1",a).attr("y1",b),y&&1!==w){var c=m(y.point.date),d=n(y.point[y.field]);if(q.attr("cx",c).attr("cy",d),r.attr("x2",c).attr("y2",d),3===w){var e=m.range()[1],f=i(a,b,c,d,e);f&&j(a,b,e,f.a,f.b,f.c)}}}},z.visible=function(a){if(a)switch(w){case 1:p.attr("display","inherit");break;case 2:p.attr("display","inherit"),q.attr("display","inherit"),r.attr("display","inherit");break;case 3:r.attr("display","inherit"),s.attr("display","inherit"),t.attr("display","inherit"),u.attr("display","inherit"),v.attr("display","inherit")}else p.attr("display","none"),q.attr("display","none"),r.attr("display","none"),s.attr("display","none"),t.attr("display","none"),u.attr("display","none"),v.attr("display","none")},z.target=function(a){return arguments.length?(k&&(k.on("mousemove.fibonacci-fan",null),k.on("click.fibonacci-fan",null)),k=a,k.on("mousemove.fibonacci-fan",b),k.on("click.fibonacci-fan",c),z):k},z.series=function(a){return arguments.length?(l=a,z):l},z.xScale=function(a){return arguments.length?(m=a,z):m},z.yScale=function(a){return arguments.length?(n=a,z):n},z.active=function(a){return arguments.length?(o=a,z):o},z}}(d3,fc),function(a,b){"use strict";b.tools.measure=function(){function b(){if(m)switch(x){case 1:y=d(),y&&(A.update(),q.attr("display","inherit"));break;case 2:z=d(),z&&(A.update(),r.attr("display","inherit"),s.attr("display","inherit"));break;case 3:}}function c(){if(m)switch(x){case 1:x=2;break;case 2:g(),x=3;break;case 3:h(),x=1}}function d(){var b=[0,0];try{b=a.mouse(i[0][0])}catch(c){}var d=k.invert(b[0]),g=l.invert(b[1]),h=e(d);if(null!==h){var j=f(g,h);if(null!==j)return{point:h,field:j}}return null}function e(a){var b=null,c=Number.MAX_VALUE;return j.forEach(function(d){var e=Math.abs(a.getTime()-d.date.getTime());c>e&&(c=e,b=d)}),b}function f(a,b){var c=null,d=Number.MAX_VALUE;for(var e in b)if(b.hasOwnProperty(e)&&"date"!==e){var f=Math.abs(a-b[e]);d>=f&&(d=f,c=e)}return c}function g(){var a=k(y.point.date),b=l(y.point[y.field]),c=k(z.point.date),d=l(z.point[z.field]);t.attr("x1",a).attr("y1",b).attr("x2",c).attr("y2",b),u.attr("x1",c).attr("y1",b).attr("x2",c).attr("y2",d);var e=z.field;v.attr("x",c-n).attr("y",b-(b-d)/2).text(p(Math.abs(z.point[e]-y.point[e]))),w.attr("y",b-n).attr("x",a+(c-a)/2).text(o(Math.abs(z.point.date.getTime()-y.point.date.getTime()))),t.attr("display","inherit"),u.attr("display","inherit"),v.attr("display","inherit"),w.attr("display","inherit"),q.attr("display","none"),r.attr("display","none")}function h(){y=null,z=null,q.attr("display","none"),r.attr("display","none"),s.attr("display","none"),t.attr("display","none"),u.attr("display","none"),v.attr("display","none"),w.attr("display","none")}var i=null,j=null,k=a.time.scale(),l=a.scale.linear(),m=!0,n=2,o=function(a){return a},p=function(a){return a},q=null,r=null,s=null,t=null,u=null,v=null,w=null,x=1,y=null,z=null,A=function(){var a=i.append("g").attr("class","measure");q=a.append("circle").attr("class","measure origin").attr("r",6).attr("display","none"),r=a.append("circle").attr("class","measure target").attr("r",6).attr("display","none"),s=a.append("line").attr("class","measure source").attr("display","none"),t=a.append("line").attr("class","measure x").attr("display","none"),u=a.append("line").attr("class","measure y").attr("display","none"),v=a.append("text").attr("class","measure callout horizontal").attr("style","text-anchor: end").attr("display","none"),w=a.append("text").attr("class","measure callout vertical").attr("style","text-anchor: middle").attr("display","none")
};return A.update=function(){if(y){var a=k(y.point.date),b=l(y.point[y.field]);if(q.attr("cx",a).attr("cy",b),s.attr("x1",a).attr("y1",b),z&&1!==x){var c=k(z.point.date),d=l(z.point[z.field]);r.attr("cx",c).attr("cy",d),s.attr("x2",c).attr("y2",d),3===x&&g()}}},A.visible=function(a){if(a)switch(x){case 1:q.attr("display","inherit");break;case 2:q.attr("display","inherit"),r.attr("display","inherit"),s.attr("display","inherit");break;case 3:s.attr("display","inherit"),t.attr("display","inherit"),u.attr("display","inherit"),v.attr("display","inherit"),w.attr("display","inherit")}else q.attr("display","none"),r.attr("display","none"),s.attr("display","none"),t.attr("display","none"),u.attr("display","none"),v.attr("display","none"),w.attr("display","none")},A.target=function(a){return arguments.length?(i&&(i.on("mousemove.measure",null),i.on("click.measure",null)),i=a,i.on("mousemove.measure",b),i.on("click.measure",c),A):i},A.series=function(a){return arguments.length?(j=a,A):j},A.xScale=function(a){return arguments.length?(k=a,A):k},A.yScale=function(a){return arguments.length?(l=a,A):l},A.active=function(a){return arguments.length?(m=a,A):m},A.padding=function(a){return arguments.length?(n=a,A):n},A.formatH=function(a){return arguments.length?(o=a,A):o},A.formatV=function(a){return arguments.length?(p=a,A):p},A}}(d3,fc);
//# sourceMappingURL=d3-financial-components.min.js.map